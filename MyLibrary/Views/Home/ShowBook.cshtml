@using MyLibrary.Models
@model MyLibrary.Models.Book
@{
    ViewBag.Title = "Show Book";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row top-buffer">
</div>

<div class="row">
        <div class="media">
            <div class="media-left">
                <div class="pull-left media-object">
                    <img class="img-rounded" src="/Content/img/book_sample.jpg" height="200" width="330" alt="Заглушка книги">
                    <p><button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-user"></span> Выдать книгу</button></p>
                </div>
              </div>
              <div class="media-body" style="padding-left: 20px;">
                <h2 class="media-heading">@Model.Name</h2>
                  <br />
                  <table class="table">
                    <tbody>
                      <tr>
                        <td><span class="label label-default">Автор</span></td>
                        <td>@Model.Author</td>
                      </tr>
                      <tr>
                        <td><span class="label label-default">Жанр</span></td>
                        <td>@Model.Genre</td>
                      </tr>
                      <tr>
                        <td><span class="label label-default">Год</span></td>
                        <td>@Model.Year</td>
                      </tr>
                      <tr>
                        <td><span class="label label-default">Издание</span></td>
                        <td>@Model.Publishing</td>
                      </tr>
                        <tr>
                        <td><span class="label label-default">Количество</span></td>
                        <td>@Model.Count</td>
                      </tr>
                    </tbody>
              </table>
                  @Model.Discription
              </div>
        </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <form class="form-horizontal" id="newCardForm" method="post" action="/Home/AddNewCard">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Выдать книгу читателю</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
              <label for="readerSelect">Кому</label>
              <select class="form-control" id="readerSelect" name="ReaderId" required>
                  <option disabled selected>Выберите читателя</option>
                  @foreach (Reader reader in ViewBag.Readers)
                  {
                    <option value="@reader.Id">@reader.Name @reader.Surname</option>
                  }
                </select>
              </div>
                <div class="form-group">
                    <label for="Count">Сколько</label>
                    <input type="text" class="form-control" id="Count" name="Count">
                    <input type="hidden" name="BookId" value="@Model.Id">
                </div>
      </div>
      <div class="modal-footer">
        <button type="submit" id="submitBtn" class="btn btn-primary">Добавить</button>
      </div>
    </form>
    </div>
  </div>
<script>
    $('#submitBtn').click(function () {
        $('#myModal').hide();
    });
</script>